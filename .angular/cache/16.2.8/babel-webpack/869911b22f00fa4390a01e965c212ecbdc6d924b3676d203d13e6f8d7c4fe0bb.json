{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.customersComponent = void 0;\nconst customer_1 = require(\"../customer\");\nconst i0 = require(\"@angular/core\");\nconst i1 = require(\"../customer.service\");\nconst i2 = require(\"@ng-bootstrap/ng-bootstrap\");\nconst i3 = require(\"@angular/common\");\nconst i4 = require(\"../new-customer/new-customer.component\");\nfunction customersComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 10);\n    i0.ɵɵlistener(\"click\", function customersComponent_tr_18_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const customer_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      const _r3 = i0.ɵɵreference(31);\n      return i0.ɵɵresetView(ctx_r6.open(_r3, customer_r5));\n    });\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const customer_r5 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r5.customer_number);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r5.first_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r5.last_name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(customer_r5.date_birth);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getLastFour(customer_r5.ssn), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.calculateAge(customer_r5.date_birth));\n  }\n}\nfunction customersComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h4\", 12);\n    i0.ɵɵtext(2, \"New Customer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function customersComponent_ng_template_28_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const modal_r8 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r8.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementStart(4, \"span\", 14);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 15);\n    i0.ɵɵelement(7, \"app-new-customer\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction customersComponent_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h4\", 12);\n    i0.ɵɵtext(2, \"Customer Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function customersComponent_ng_template_30_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const modal_r11 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r11.dismiss(\"Cross click\"));\n    });\n    i0.ɵɵelementStart(4, \"span\", 14);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 15)(7, \"div\", 0)(8, \"div\", 16);\n    i0.ɵɵtext(9, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 17);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 0)(13, \"div\", 18);\n    i0.ɵɵtext(14, \"Mobile Phone Number:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 19);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 0)(18, \"div\", 18);\n    i0.ɵɵtext(19, \"Join Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 17);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 0)(23, \"div\", 20)(24, \"div\", 0)(25, \"div\", 21);\n    i0.ɵɵtext(26, \"Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 22);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 0)(30, \"div\", 21);\n    i0.ɵɵtext(31, \"City:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 17);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 0)(35, \"div\", 21);\n    i0.ɵɵtext(36, \"State:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 17);\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 0)(40, \"div\", 21);\n    i0.ɵɵtext(41, \"Zipcode:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 17);\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r4.modalContent.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.modalContent.mobile_phone_number);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.modalContent.join_date);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r4.modalContent.primary_address.address_line_1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.modalContent.primary_address.city);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.modalContent.primary_address.state);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.modalContent.primary_address.zip_code);\n  }\n}\nlet customersComponent = /*#__PURE__*/(() => {\n  class customersComponent {\n    constructor(customerService, modalService) {\n      this.customerService = customerService;\n      this.modalService = modalService;\n      this.customers = [];\n    }\n    ngOnInit() {\n      this.getcustomers();\n    }\n    getcustomers() {\n      this.customerService.getcustomers().subscribe(customers => this.customers = customers);\n    }\n    open(content, tableRow) {\n      //this.modalContent = content;\n      this.modalContent = tableRow ? tableRow : new customer_1.customer(0, \"\", \"\", new Date(), \"\", \"\", new customer_1.PrimaryAddress(\"\", \"\", \"\", 0), \"\", \"\");\n      this.modalService.open(content, {\n        ariaLabelledBy: 'modal-basic-title'\n      });\n    }\n    calculateAge(birthDate) {\n      var timeDiff = Math.abs(Date.now() - new Date(birthDate).getTime());\n      return Math.floor(timeDiff / (1000 * 3600 * 24) / 365.25);\n    }\n    getLastFour(fullString) {\n      if (fullString) {\n        return fullString.slice(-4);\n      }\n      return \"N/A\";\n    }\n    add(first_name, last_name, date_birth, ssn, email, primary_address, mobile_phone_number, join_date) {\n      ///some sort of validation?\n      this.customerService.addcustomer({\n        first_name,\n        last_name,\n        date_birth,\n        ssn,\n        email,\n        primary_address,\n        mobile_phone_number,\n        join_date\n      }).subscribe(result => this.httpResponse = result);\n    }\n    static #_ = this.ɵfac = function customersComponent_Factory(t) {\n      return new (t || customersComponent)(i0.ɵɵdirectiveInject(i1.customerService), i0.ɵɵdirectiveInject(i2.NgbModal));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: customersComponent,\n      selectors: [[\"app-customers\"]],\n      decls: 35,\n      vars: 2,\n      consts: [[1, \"row\"], [1, \"col-10\", \"offset-1\"], [1, \"table\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"col-12\", \"p-1\", \"text-center\"], [1, \"bi\", \"bi-lightbulb-fill\"], [\"newCustomer\", \"\"], [\"content\", \"\"], [3, \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"col-5\", \"fw-bold\", \"pb-3\", \"pb-2\"], [1, \"col-3\"], [1, \"col-5\", \"fw-bold\", \"pb-3\"], [1, \"col-5\"], [1, \"col-11\", \"offset-3\"], [1, \"col-2\", \"fw-bold\"], [1, \"col-6\"]],\n      template: function customersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r14 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"table\", 2)(3, \"thead\")(4, \"tr\")(5, \"th\");\n          i0.ɵɵtext(6, \"Customer Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"th\");\n          i0.ɵɵtext(8, \"First Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\");\n          i0.ɵɵtext(10, \"Last Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"th\");\n          i0.ɵɵtext(12, \"Date Of Birth\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"th\");\n          i0.ɵɵtext(14, \"Last Four SSN\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"th\");\n          i0.ɵɵtext(16, \"Age\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(17, \"tbody\");\n          i0.ɵɵtemplate(18, customersComponent_tr_18_Template, 13, 6, \"tr\", 3);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"div\", 0)(20, \"div\", 4)(21, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function customersComponent_Template_button_click_21_listener() {\n            i0.ɵɵrestoreView(_r14);\n            const _r1 = i0.ɵɵreference(29);\n            return i0.ɵɵresetView(ctx.open(_r1));\n          });\n          i0.ɵɵtext(22, \" New Customer \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(23, \"div\", 6);\n          i0.ɵɵelement(24, \"i\", 7);\n          i0.ɵɵtext(25, \" Tip: Click a user above to view more details! \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"label\");\n          i0.ɵɵtext(27, \" Application done by Jesse Hemphill\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, customersComponent_ng_template_28_Template, 8, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵtemplate(30, customersComponent_ng_template_30_Template, 44, 7, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n          i0.ɵɵelement(32, \"hr\");\n          i0.ɵɵelementStart(33, \"pre\");\n          i0.ɵɵtext(34);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngForOf\", ctx.customers);\n          i0.ɵɵadvance(16);\n          i0.ɵɵtextInterpolate(ctx.closeResult);\n        }\n      },\n      dependencies: [i3.NgForOf, i4.NewCustomerComponent],\n      styles: [\".customers[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}input[_ngcontent-%COMP%]{display:block;width:100%;padding:.5rem;margin:1rem 0;box-sizing:border-box}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{left:.1em}.customers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px;display:block;width:100%}.customers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2c3a41;background-color:#e6e6e6}.customers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#525252;color:#fafafa}.customers[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}.add-button[_ngcontent-%COMP%]{padding:.5rem 1.5rem;font-size:1rem;margin-bottom:2rem}.add-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#42545c}button.delete[_ngcontent-%COMP%]{position:absolute;left:210px;top:5px;background-color:#fff;color:#525252;font-size:1.1rem;margin:0;padding:1px 10px 3px}button.delete[_ngcontent-%COMP%]:hover{background-color:#525252;color:#fff}\"]\n    });\n  }\n  return customersComponent;\n})();\nexports.customersComponent = customersComponent;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}